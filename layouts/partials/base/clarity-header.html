{{ $pageLink := .Permalink }}

{{ if .Site.Params.clarity.Header.InfoText }}
<div class="alert alert-app-level alert-info" role="alert">
    <div class="alert-items">
        <div class="alert-item static">
            <div class="alert-icon-wrapper">
                <clr-icon class="alert-icon" shape="info-circle"></clr-icon>
            </div>
            <div class="alert-text">
                {{ .Site.Params.clarity.Header.InfoText }}
            </div>
        </div>
    </div>
</div>
{{ end }}
<header class="header-{{ .Site.Params.clarity.Header.Colour }}">
    <!-- <button class="header-hamburger-trigger" type="button"><span></span></button> -->
    <div class="branding">
    {{ if and ( ne .Site.Title "" ) ( eq .Site.Params.clarity.Header.Image "" )}}
    <a class="nav-link" href="{{ .Site.BaseURL | relLangURL}}">
      <clr-icon shape="vm-bug"></clr-icon>
      <span class="title">{{ .Site.Title }}</span>
      {{ end }}

    {{ if ( ne .Site.Params.clarity.Header.Image "" ) }}
    <a class="logo-and-title" href="{{ .Site.BaseURL | relLangURL}}">
      <img class="clr-header-logo" alt="{{ .Site.Params.brand }}" src="{{ .Site.Params.clarity.Header.Image }}">
      <span class="title">&nbsp;{{ .Site.Title }}</span>
    </a>  
    {{ end }}
  </div>
  <nav class="header-nav">
    {{ $currentNode := . }}
    {{ range .Site.Menus.main }}
        <a class="nav-link{{ if eq (.URL | absLangURL) ( $pageLink) }} active{{ end }} nav-text" href="{{ .URL | absLangURL }}" title="{{ .Name }}">
          {{ .Pre }}
          {{ .Name }}
        </a>
    {{ end }}
      </nav>
  <div class="header-actions">
    <form class="search" id="search" method="get" action="//google.com/search">
      <label for="search_input">
          <input id="search_input" type="text" name="q" placeholder="Search with Google">
          <input type="hidden" name="as_sitesearch" value="{{ .Site.BaseURL }}">
      </label>
    </form>
    <a class="nav-link nav-icon" aria-label="theme" onclick="toggleThemeMode()">
      <clr-icon {{ if .Site.Params.clarity.DarkTheme }}shape="sun"{{else}}shape="moon"{{ end }}  id="icon-theme-mode" title="Toggle theme mode"></clr-icon>
    </a>
  </div>
</header>

